@startuml
skinparam componentStyle uml2

title SageStore Server (Current)

package "SageStore Server" {
    [SageStoreServer] as APP
    [HttpServer] as HTTP
    [HttpTransaction] as TX
    [JsonSerializer] as JSON

    [BusinessLogic] as BL
    [UsersModule] as UM

    [RepositoryManager] as RM
    [UserRepository] as UR
    [RoleRepository] as RR
    [SqliteDatabaseManager] as DB

    APP --> HTTP
    APP --> BL
    APP --> RM

    HTTP --> TX
    TX --> JSON
    TX --> BL : request-response

    BL --> UM
    UM --> UR
    UM --> RR

    RM --> UR
    RM --> RR
    UR --> DB
    RR --> DB
}

@enduml

{
  "version": "2.0.0",
  "inputs": [
    {
      "id": "buildType",
      "type": "pickString",
      "description": "Select CMake build type for build tasks",
      "options": [
        "Release",
        "Debug"
      ],
      "default": "Release"
    }
  ],
  "tasks": [
    {
      "label": "SageStore: Clean Rebuild (all targets + docs)",
      "detail": "Clean build directory, rebuild all targets, then rebuild documentation.",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "clean-rebuild"
      ],
      "options": {
        "env": {
          "SAGESTORE_BUILD_TYPE": "${input:buildType}"
        }
      },
      "problemMatcher": []
    },
    {
      "label": "SageStore: Build (with cache, all targets)",
      "detail": "Incremental build using Conan/CMake cache (configure + build).",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "build-cache"
      ],
      "options": {
        "env": {
          "SAGESTORE_BUILD_TYPE": "${input:buildType}"
        }
      },
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "problemMatcher": []
    },
    {
      "label": "SageStore: Build Documentation",
      "detail": "Validate docs links, render PlantUML, and generate Doxygen docs.",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "docs"
      ],
      "problemMatcher": []
    },
    {
      "label": "SageStore: Run Tests",
      "detail": "Run all CTest suites from current build directory.",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "test"
      ],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "problemMatcher": []
    },
    {
      "label": "SageStore: Run Server (only)",
      "detail": "Run server binary from build output.",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "run-server"
      ],
      "problemMatcher": []
    },
    {
      "label": "SageStore: Run Client (only)",
      "detail": "Run client binary with WSLg/X display auto-detection.",
      "type": "shell",
      "command": "scripts/vscode/run_task.sh",
      "args": [
        "run-client"
      ],
      "problemMatcher": []
    }
  ]
}
